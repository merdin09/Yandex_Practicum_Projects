# Исследование портрета клиентов регионального банка для уменьшения оттока.

[**Презентация**](https://github.com/merdin09/Yandex_Practicum_Projects/blob/main/10%20%D0%98%D1%81%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BF%D0%BE%D1%80%D1%82%D1%80%D0%B5%D1%82%D0%B0%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20%D1%80%D0%B5%D0%B3%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%B1%D0%B0%D0%BD%D0%BA%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D1%83%D0%BC%D0%B5%D0%BD%D1%8C%D1%88%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BE%D1%82%D1%82%D0%BE%D0%BA%D0%B0/%D0%90%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%20%D0%BE%D1%82%D1%82%D0%BE%D1%87%D0%BD%D0%BE%D1%81%D1%82%D0%B8%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20%D0%B1%D0%B0%D0%BD%D0%BA%D0%B0.pdf)

[**Дашборд**](https://public.tableau.com/app/profile/sergei.pakhar/viz/Churn_products/Dashboard2?publish=yes)

**Задачи:** 

- проанализировать и выделить портреты клиентов регионального банка, которые склонны уходить из банка,
- сформулировать и проверить статистические гипотезы на основе анализа, 
- дать рекомендации по уменьшению оттока клиентов банка.

**Описание проекта:** 

Проанализированы клиенты регионального банка и выделите сегменты клиентов, которые склонны уходить из банка
 
Построен дашборд, содержащий:

- диаграмму, отражающую количество клиентов в зависимости от числа используемых продуктов.
- индикатор процента ушедших клиентов (уровень оттока среди владельцев данного числа продуктов).
- фильтр дашборда по городу.

**Используемый стек**: pandas, matplotlib, seaborn, scipy, numpy, Tablue


**Содержание:**

1.  Откроем файл с данными и изучим общую информацию.

2.  Подготовим данные для анализа.

    2.1  Приведем названия столбцов к змеиному и нижнему регистрам.  
    2.2  Проверим данные на пропуски и заполним их при необходимости.

        2.2.1  Заполним пропуски в столбце age средним значением
        2.2.2  Исследуем пропуски в столбце balance

    2.3  Приведем типы данных в соответствие. Изменим тип данных столбца age на int.  
    2.4  Проверим данные на наличие явных и неявных дубликатов.  
    2.5  Добавим столбцы: закодируем каждый город в отдельном столбце.

3.  Исследовательский анализ данных.

    3.1  Найдем процент ушедших клиентов банка  
    3.2  Посмотрим отточность в каждой категории  
    3.3  Корелляционный анализ.  
    3.4  Анализ распределений (в том числе и в разрезе оттока).

        3.4.1  Построим распределение баллов кредитного скоринга клиентов в разрезе отточности
        3.4.2  Построим распределение возраста клиентов в разрезе отточности
        3.4.3  Построим распределение баланса на счете в разрезе отточности
        3.4.4  Построим распределение дохода клиентов в разрезе отточности

4.  Сформулируем и проверим статистические гипотезы.

    4.1  Проверим гипотезу различия величины дохода между отточными и неотточными клиентами.

        4.1.1  Применим t-критерий Стьюдента
        4.1.2  Применим U-критерий Манна—Уитни
        4.1.3  Проверим равенство дохода в "лоб"

    4.2  Проверим гипотезу различия возраста между отточными и неотточными клиентами.

5.  Промежуточный итог по показателям, влияющих на отток клиентов.

6.  Сегментация данных на основе стратегических показателей.

    6.1  Количество продуктов клиента
    6.2  Возраст клиента  
    6.3  Количество баллов собственности  
    6.4  Баланс на счете клиента  
    6.5  Объединим баллы кредитного рейтинга клиента, активность, пол и возраст от 25 до 35 лет в один сегмент

7.  Выводы и рекомендации.

8.  Презентация.

9.  Дашборд.


## Выводы: ##

Датафрейм состоит из 10000 строк  и 12 столбцов.


Проведена предобработка данных:
- привели название столбцов к змеиному и строчному регистрам,
- в столбцах `age` и `balance` обнаружили пропуски в количестве 26 и 2295 шт,
- заменили пропуски в столбце `age` средним значением,
- изменили тип данных в столбце `age` на int64,
- нашли 73 дубликата в столбце `user_id`, такого быть не должно, обратить внимание на сбор данных,
- закодировали столбец `city` методом get_dummies, предварительно создав его копию, что бы не потерять первоначальные данные.


Проведен исследовательский анализ данных:

Отток клиентов составил 18%.


Отток клиентов имеет слабую зависимость от:

- `score` — баллы кредитного скоринга с коэффмцментом корреляции 0.11,
- `creditCard` — наличия кредитной карты с коэффмцментом корреляции 0.13,
- `last_activity` — активный клиент или нет с коэффмцментом корреляции 0.17,
- `equity`  — количество баллов собственности с коэффмцментом корреляции 0.27,


и умеренную зависимость от:
- `products` — количество продуктов, которыми пользуется клиент с коэффмцментом корреляции 0.31.


Типичный отточный клиент:

- мужчина,
- количество баллов собственности более 5,
- колличество продуктов 0, 4 и 5,
- активность,
- возраст от 25 до 35 лет и от 50 до 60 лет,
- баллы кредитного скоринга от 820 до 900
- остаток на расчетном счете более 1,5 млн. руб.

    
Сформированы и проверены 2 гипотезы:

- о равенстве дохода между отточными и неотточными клиентами: на сырых данных при применении критерия Стьюдента нет оснований отвергнуть нулевую гипотезу, при применении критерия Манна—Уитни есть основания отвергнутт нулевую гипотезу. Различие в тестах связано с наличием большого числа выбросов и ненормальностью выборки. При удалении выбросов оба критерия показыват статистическую разницу между доходом отточных и неотточных клиентов,

- о равенстве возраста между отточными и неотточными клиентами: критерий Стьюдента и критерий Манна—Уитни дают основания отвергнуть нулевую гипотезу а равенстве возраста отточных и неотточных клиентов.



Выделено 5 сегментов отточных клиентов:
- количество продуктов 0,4 и 5: 63% отточных
- возраст от 50 до 60 лет: 28% отточных
- количество баллов собственности более 5: 40% отточных
- остаток на расчетном счете более 1,5 млн. руб.:50% отточных
- активные мужчины с баллом кредитного рейтинга от 820 до 900 и возрастом от 25 до 35 лет: 51% отточных


**Рекомендации:**

- продуктовый сегмент: провести акции по удержанию пользователей, предоставить скидки или льготы на действующие продукты, 
- возрастной сегмент: возможно, в силу возраста, данным клиентам тяжело самостоятельно освоить сервисы банка, поэтому стоит провести обучение клиента, предоставить достаточно качественные образовательные или вспомогательные материалы, которые помогут увеличить удержание и уменьшить отток. Предложить, например, бесплатные тренинги, вебинары, видеоуроки и демонстрации продуктов. 
- сегмент колличества баллов собственности: предложить продукты на конкурентных условиях, связанные с имуществом, например страхование недвижимого имущества, автострахование (осаго, каско),
- сегмент остатка на расчетном счете: предложить начисление процентов на остаток по счету,
- смешанный сегмент: провести анализ качества предоставляемых услуг.



