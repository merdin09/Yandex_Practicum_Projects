# Исследование надёжности заёмщиков — анализ банковских данных


**Задачи:** Используя данные сервиса Яндекс.Недвижимость, определить рыночную стоимость объектов недвижимости и типичные параметры квартир.

**Описание проекта:** На основе данных сервиса Яндекс.Недвижимость определена рыночная стоимость бъектов недвижимости разного типа, типичные параметры квартир, в зависимости от
удаленности от центра. Проведена предобработка данных. Добавлены новые данные.
Построены гистограммы, боксплоты, диаграммы рассеивания.

**Используемый стек**: pandas, matplotlib.

**Содержание:**



1.  Откройте файл с данными и изучите общую информацию.
2.  Предобработка данных 

        2.1  Найдем и изучим пропущенные значения в столбцах    
        2.2  Рассмотрим типы данных в каждом столбце    
        2.3  Изучим уникальные значения в столбце с названиями и   устраним неявные дубликаты  
        2.4  Найдем и устраним редкие и выбивающиеся значения   Посмотрим уникальные значения значения высоты потолков
3.  Посчитайте и добавьте в таблицу новые столбцы
4.  Проведите исследовательский анализ данных  

        4.1  Изучение параметров объектов:    
                4.1.1  Изучим общую площадь квартир, построив гистограммы  
                4.1.2  Изучим жилую площадь квартир, построив гистограммы    
                4.1.3  Изучим площадь кухни  
                4.1.4  Изучим цену объекта  
                4.1.5  Изучим объекты по количеству комнат  
                4.1.6  Изучим высоту потолков  
                4.1.7  Изучим этажность квартир  
                4.1.8  Изучим тип этажа квартиры («первый», «последний»,   «другой»);    
                4.1.9  Изучим параметр всего этажей в доме  
                4.1.10  Изучим расстояние до центра города в метрах;  
                4.1.11  Изучим расстояние до ближайшего аэропорта  
                4.1.12  Изучим расстояние до ближайшего парка  
                4.1.13  Изучим день и месяц публикации объявления  

        4.2  Изучим , как быстро продавались квартиры  
        4.3  Изучим какие факторы больше всего влияют на общую (полную) стоимость объекта  

            4.3.1  Построим график зависимости цены квартиры от ее общей площади и посчитаем коэффициент корреляции Пирсона  
            4.3.2  Построим график зависимости цены квартиры от ее общей жилой площади и посчитаем коэффициент корреляции Пирсона  
            4.3.3  Построим график зависимости цены квартиры от площади кухни и посчитаем коэффициент корреляции Пирсона  
            4.3.4  Построим график зависимости цены квартиры от количества комнат и посчитаем коэффициент корреляции Пирсона  
            4.3.5  Построим график зависимости цены квартиры от типа этажа, на котором она находится (первый, последний млм другой)  
            4.3.6  Построим график зависимости цены квартиры от даты размещения объявления (дня недели, месяца, года)    
            4.3.6.1  Зависимость от даты размещения  
            4.3.6.2  Зависимость от дня недели  
            4.3.6.3  Зависимость от месяца  
            4.3.6.4  Зависимость от года  
    4.4  Посчитаем среднюю цену одного квадратного метра в 10 населённых пунктах с наибольшим числом объявлений.  
    4.5  Найдем квартиры в Санкт-Петербурге с помощью столбца locality_name и вычислим среднюю цену каждого километра. Опишите, как стоимость объектов зависит от расстояния до центра города.
5. Общий вывод


## Выводы: ##


При первичном анализе датафрейма обнаружены ошибки в навании столбцов. Так столбец cityCenters_nearest приведен к змеиному регистру. Для дальнейшей корректной работы с данными  изменены типы данных в столбцах:

- is_apartment,
- balcony,
- first_day_exposition

Наличие явных дубликатов не выявлено. В столбце locality_name выявлено и заменено 3 неявных дубликата.

Имеются пропуски в столбцах:
- ceiling_height,
- floors_total,
- living_area,
- is_apartment,
- kitchen_area,
- balcony, locality_name,
- airports_nearest, cityCenters_nearest,
- parks_around3000,
- parks_nearest,
- ponds_around3000,
- ponds_nearest,
- days_exposition

Причины может быть две: некорректная выгрузка или пользователь не указал данные при размещении объявления. Пропуски в столбце высота потолков заменены на среднее значение.

В столбце balcony пропуски заменены на 0, так как скорее всего там где пропуск балкона нет. Похожая ситуация с парками и водоемами. Поэтому пропуски в столбцах parks_around3000 и ponds_around3000 также заменены на 0. В столбце locality_name заменим пропуски на unknow.

Построены диаграммы размаха и отброшены аномальные значения для высоты потолков, цены, количества комнат и общей площади. Для высоты потолков оставили значения от 2 до 10 метров, для цены квартиры от 10 до 45 млн. руб., для количества комнат от 1 до 7, для общей площади от 20 до 200 кв метров. При этом отбросили менее 1% данных.

В таблицу добавлены новые столбцы: 
- цена одного квадратного метра
- день недели публикации объявления (0 — понедельник, 1 — вторник и так далее)
- месяц публикации объявления
- год публикации объявления
- тип этажа квартиры (значения — «первый», «последний», «другой»)
- расстояние до центра города в километрах (переведены из м в км и округлены до целых значений).

Изучены следующие параметры квартир и построены гистограммы для каждого из них:

- общая площадь: основная масса квартир имеет площать от 25 до 125 квадратных метров, больше всего квартир с площадью от 40 до 50 квадраьных метров,
- площадь кухни: основная масса квартир имеет площадь кухонь от 5 до 15 кв м,
- стоимость: больше всего квартир с стоимостью от 2 до 10 млн. руб.,
- количество комнат: преобладают 2,3 и 4-х комнатные квартиры,
- высота потолков: большинство квартир имеет высоту потолков от 2,5 до 2,75 метров,
- этаж: преобладают квартиры, находящиеся в пятиэтажных домах,
- тип этажа: большинство квартир располагается не на первом и не на последнем этаже,
- этажность дома: наиболее распространенны 5-ти и 9-ти этажные дома,
- удаленность от центра города: большинство квартир располагается в радиусе 20-ти километров от центра города,
- удаленность от аэропорта: большинство квартир находятся на расстоянии от 10 до 55 км от аэропорта,
- удаленность от парка: большинство квартир имеет парк к радиусе одного километра,
- дата публикации: объявления публикуются большей части в буднии дни. Самое большое количество объявлений публикуется в ноябре, летом наблюдается снижение активности по подаче объявлений.

Изучена скорость продажи квартиры. Медианое значение длительности продажи квартиры составляет 95 дней. Наличие малого числа очень долгих продаж сдвигает среднее время продажи на 179 дней. Быстрые продажи, это продажи в первые 100 дней, долгие - более 250 дней
Изучены факторы, больше всего вляющие на стоимость объекта.

Общая стоимость квартиры больше зависит от общей площади, чем от жилой площади и площади кухни (видно по более высокому коэффциенту корреляции Пирсона, 0,76). Чем больше общая площадь, жилая площадь, площадь кухни, тем выше стоимость квартиры. Таже на цену влияет этажность. Самые дешевые квартиры расположены на первом этаже, чуть дороже на последнем, и самые дорогие на других этажах. В 2014 году средня стоимость квартир наибольшая. Если этот показатель отбросить, то заметим, что средня стоимость квартир плавно увеличивается от года к году.

Самая высокая стоимость квадратного метра из городов топ-10 по количеству объявлений в Санкт-Петербурге, самая низкая в Выборге.
Так же на стоимость квартир влияет их локация. Самая дорогая недвижимость находиться в городе Санкт-Петербург.

Изучена средняя цена 1 километра. Самые дорогие квартиры находятся в центре города, самые дешевые на его окраинах. Чем больше расстояние от центра города, тем дешевле квартира. С 7 по 10 километр имеем резко низходящий участок графика, что дает нам понять, что стоимость квартир падает и скорее всего здесь заканчивается центр города. Предположим что граница центра города находится на расстоянии 8 км от самого центра.

Исходя из выше изложенно можно сделать вывод, что самые дорогие квартиры находятся в городе Санкт-Петербург в радиусе 8 км от города, расположенные не на первом и не на последнем этаже